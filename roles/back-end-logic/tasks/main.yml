#SPDX-License-Identifier: MIT-0
---
# tasks file for back-end-logic
- name: Start backend with PM2
  shell: |
    pm2 start index.js --name ecommerce-backend
    pm2 save
  args:
        chdir: "{{ backend_dir }}"

- name: Restart backend with PM2 if already started, otherwise start
  shell: |
    pm2 describe backend > /dev/null && pm2 restart backend || pm2 start server.js --name backend
  args:
    chdir: /vagrant/backend
